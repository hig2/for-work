document.addEventListener("DOMContentLoaded",function(){function e(e){var t=e.target.getAttribute("data-tabs");if(null!=t){var r=o.querySelectorAll(".tabsLi"),l=o.querySelectorAll(".content");o.querySelector(".scroll").classList.add("disable");for(var a=0;a<r.length;a++)t==[a]?(r[a].classList.add("active"),l[a].classList.remove("disable"),o.querySelector(".scroll").classList.remove("disable")):(r[a].classList.remove("active"),l[a].classList.add("disable"));$(".scroll").niceScroll({cursorcolor:"#0f7bb1",cursorwidth:"5px",cursoropacitymin:"1",background:"#ededed",cursorminheight:"71"})}}function t(){var e=o.createElement("span"),t=o.createTextNode("-Ошибка ввода-");e.appendChild(t),e.className="errorValue";var r=document.querySelector(".tab_0");r.insertBefore(e,r.children[0]),setTimeout(function(){(r=document.querySelector(".errorValue")).parentNode.removeChild(r)},700)}var r={name:"Виталя Гора",marita:"холост",phone:"+7 (440) 554-32-12",email:"vitalya@gora.ru"};null!==localStorage.getItem("name")&&(r.name=localStorage.getItem("name")),null!==localStorage.getItem("marita")&&(r.marita=localStorage.getItem("marita")),null!==localStorage.getItem("phone")&&(r.phone=localStorage.getItem("phone")),null!==localStorage.getItem("nemail")&&(r.email=localStorage.getItem("email")),document.querySelector(".infoContName").textContent=r.name,document.querySelector(".maritalStat").textContent=r.marita,document.querySelector(".phoneStat").textContent=r.phone,document.querySelector(".emailLink").textContent=r.email,document.querySelector(".container").style.opacity="1",document.querySelector(".tabsUl").addEventListener("click",e);var o=document;$(".addHobby").magnificPopup({});var l;document.querySelector("#popupForm").addEventListener("submit",function(e){function t(){r.querySelector(".answerMes").classList.remove("errorMes"),r.querySelector(".answerMes").textContent="",r.querySelector(".answerMes").style.display="none"}e.preventDefault();var r=document;clearTimeout(l);if((a=r.querySelector(".popupText").value.trim()).length>30||a.length<2)return r.querySelector(".answerMes").classList.add("errorMes"),r.querySelector(".answerMes").textContent="Введено недопустимое значение.",r.querySelector(".answerMes").style.display="block",void(l=setTimeout(function(){t()},4e3));var o=r.createElement("li"),a=r.createTextNode(a);o.appendChild(a),o.className="hobbyListItem";var n=r.querySelector(".hobbyList");n.insertBefore(o,n.children[0]),r.querySelector(".popupText").value="",r.querySelector(".answerMes").classList.add("goodMes"),r.querySelector(".answerMes").textContent="Добавлено!",r.querySelector(".answerMes").style.display="block",l=setTimeout(function(){t()},4e3)}),document.querySelector(".hobbyList").addEventListener("click",function(e){e.target.classList.contains("hobbyListItem")&&e.target.parentNode.removeChild(e.target)}),document.querySelector(".infoContName").addEventListener("click",function(e){var o=document,l=o.querySelector(".infoContName"),a=o.querySelector(".editName");a.value=r.name,l.style.color="#ffffff",a.style.zIndex="10",a.focus(),document.querySelector(".editName").addEventListener("focusout",function(e){var o=a.value.trim();if(o.length<3||o.length>30)return a.style.zIndex="-1",l.style.color="#000000",void t();r.name=o,l.textContent=r.name,a.style.zIndex="-1",l.style.color="#000000",localStorage.setItem("name",r.name)})}),document.querySelector(".maritalStat").addEventListener("click",function(e){var o=document,l=o.querySelector(".maritalStat"),a=o.querySelector(".editMarita");a.value=r.marita,l.style.color="#ffffff",a.style.zIndex="10",a.focus(),document.querySelector(".editMarita").addEventListener("focusout",function(e){var o=a.value.trim();if(o.length<3||o.length>15)return a.style.zIndex="-1",l.style.color="#000000",void t();r.marita=o,l.textContent=r.marita,a.style.zIndex="-1",l.style.color="#000000",localStorage.setItem("marita",r.marita)})}),document.querySelector(".phoneStat").addEventListener("click",function(e){var o=document,l=o.querySelector(".phoneStat"),a=o.querySelector(".editPhone"),n=/^\+[7]{1}\ \([\d]{3}\)\ [\d]{3}-[\d]{2}-[\d]{2}$/,c=/^[0-9]{11}$/;a.value=r.phone,l.style.color="#ffffff",a.style.zIndex="10",a.focus(),document.querySelector(".editPhone").addEventListener("focusout",function(e){var o=a.value.trim();if(c.test(o))o="+7 ("+o[1]+o[2]+o[3]+") "+o[4]+o[5]+o[6]+"-"+o[7]+o[8]+"-"+o[9]+o[10];else if(0==n.test(o))return a.style.zIndex="-1",l.style.color="#000000",void t();r.phone=o,l.textContent=r.phone,a.style.zIndex="-1",l.style.color="#000000",localStorage.setItem("phone",r.phone)})}),document.querySelector(".emailStat").addEventListener("click",function(e){var o=document,l=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,a=o.querySelector(".emailLink"),n=o.querySelector(".editEmail");n.value=r.email,a.style.color="#ffffff",a.style.border="#ffffff",n.style.zIndex="10",n.focus(),document.querySelector(".editEmail").addEventListener("focusout",function(e){var o=n.value.trim();if(0==l.test(o))return n.style.zIndex="-1",a.style.color="#0e7db2",a.style.border="#0e7db2",void t();r.email=o,a.textContent=r.email,n.style.zIndex="-1",a.style.color="#0e7db2",a.style.border="#0e7db2",localStorage.setItem("email",r.email)})})});